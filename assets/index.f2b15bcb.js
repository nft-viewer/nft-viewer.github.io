import{c as y,h as mt,i as Nt,b as Dt}from"./index.fd4aa9c6.js";import{d as Pt,s as Fe}from"./index.0cc0e675.js";import{l as Ct,r as it}from"./index.89c64a09.js";import{d as Lt}from"./index.0b1b8ec2.js";function Mt(s,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in s)){const a=Object.getOwnPropertyDescriptor(r,n);a&&Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}var Ge={},Se={},C={};Object.defineProperty(C,"__esModule",{value:!0});C.safeDeploymentsL1ChainIds=C.safeDeploymentsVersions=C.SAFE_BASE_VERSION=C.SAFE_LAST_VERSION=void 0;C.SAFE_LAST_VERSION="1.3.0";C.SAFE_BASE_VERSION="1.1.1";C.safeDeploymentsVersions={"1.3.0":{safeMasterCopyVersion:"1.3.0",safeMasterCopyL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",multiSendVersion:"1.3.0"},"1.2.0":{safeMasterCopyVersion:"1.2.0",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"},"1.1.1":{safeMasterCopyVersion:"1.1.1",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"}};C.safeDeploymentsL1ChainIds=[1];var N={};Object.defineProperty(N,"__esModule",{value:!0});N.getMultiSendContract=N.getProxyFactoryContract=N.getSafeContract=N.getSafeProxyFactoryContractDeployment=N.getMultiSendContractDeployment=N.getSafeContractDeployment=void 0;const we=Pt,pe=C;function ot(s,e,t=!1){const n={version:pe.safeDeploymentsVersions[s].safeMasterCopyVersion,network:e.toString(),released:!0};return pe.safeDeploymentsL1ChainIds.includes(e)||t?(0,we.getSafeSingletonDeployment)(n):(0,we.getSafeL2SingletonDeployment)(n)}N.getSafeContractDeployment=ot;function ct(s,e){const t=pe.safeDeploymentsVersions[s].multiSendVersion;return(0,we.getMultiSendDeployment)({version:t,network:e.toString(),released:!0})}N.getMultiSendContractDeployment=ct;function lt(s,e){const t=pe.safeDeploymentsVersions[s].safeProxyFactoryVersion;return(0,we.getProxyFactoryDeployment)({version:t,network:e.toString(),released:!0})}N.getSafeProxyFactoryContractDeployment=lt;async function bt({ethAdapter:s,safeVersion:e,chainId:t,customSafeAddress:r,isL1SafeMasterCopy:n,customContracts:a}){const i=ot(e,t,n),f=s.getSafeContract({safeVersion:e,chainId:t,singletonDeployment:i,customContractAddress:r!=null?r:a==null?void 0:a.safeMasterCopyAddress,customContractAbi:a==null?void 0:a.safeMasterCopyAbi});if(!await s.isContractDeployed(f.getAddress()))throw new Error("Safe Proxy contract is not deployed on the current network");return f}N.getSafeContract=bt;async function Ft({ethAdapter:s,safeVersion:e,chainId:t,customContracts:r}){const n=lt(e,t),a=await s.getSafeProxyFactoryContract({safeVersion:e,chainId:t,singletonDeployment:n,customContractAddress:r==null?void 0:r.safeProxyFactoryAddress,customContractAbi:r==null?void 0:r.safeProxyFactoryAbi});if(!await s.isContractDeployed(a.getAddress()))throw new Error("Safe Proxy Factory contract is not deployed on the current network");return a}N.getProxyFactoryContract=Ft;async function Gt({ethAdapter:s,safeVersion:e,chainId:t,customContracts:r}){const n=ct(e,t),a=await s.getMultiSendContract({safeVersion:e,chainId:t,singletonDeployment:n,customContractAddress:r==null?void 0:r.multiSendAddress,customContractAbi:r==null?void 0:r.multiSendAbi});if(!await s.isContractDeployed(a.getAddress()))throw new Error("Multi Send contract is not deployed on the current network");return a}N.getMultiSendContract=Gt;var te=y&&y.__classPrivateFieldSet||function(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t},re=y&&y.__classPrivateFieldGet||function(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)},ie,oe,ce,le;Object.defineProperty(Se,"__esModule",{value:!0});const xt=C,me=N;class xe{constructor(){ie.set(this,void 0),oe.set(this,void 0),ce.set(this,void 0),le.set(this,void 0)}static async create({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}){const a=new xe;return await a.init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}),a}async init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}){const a=await e.getChainId(),i=n==null?void 0:n[a];te(this,ie,n,"f"),te(this,oe,r,"f");const o=await(await(0,me.getSafeContract)({ethAdapter:e,safeVersion:xt.SAFE_LAST_VERSION,chainId:a,isL1SafeMasterCopy:r,customSafeAddress:t,customContracts:i})).getVersion();te(this,ce,await(0,me.getSafeContract)({ethAdapter:e,safeVersion:o,chainId:a,isL1SafeMasterCopy:r,customSafeAddress:t,customContracts:i}),"f"),te(this,le,await(0,me.getMultiSendContract)({ethAdapter:e,safeVersion:o,chainId:a,customContracts:i}),"f")}get contractNetworks(){return re(this,ie,"f")}get isL1SafeMasterCopy(){return re(this,oe,"f")}get safeContract(){return re(this,ce,"f")}get multiSendContract(){return re(this,le,"f")}}ie=new WeakMap,oe=new WeakMap,ce=new WeakMap,le=new WeakMap;Se.default=xe;var ye={},je={},b={},L={};Object.defineProperty(L,"__esModule",{value:!0});L.SENTINEL_ADDRESS=L.EMPTY_DATA=L.ZERO_ADDRESS=void 0;L.ZERO_ADDRESS=`0x${"0".repeat(40)}`;L.EMPTY_DATA="0x";L.SENTINEL_ADDRESS="0x0000000000000000000000000000000000000001";Object.defineProperty(b,"__esModule",{value:!0});b.isMetaTransactionArray=b.isRestrictedAddress=b.sameString=void 0;const dt=L;function jt(s,e){return s.toLowerCase()===e.toLowerCase()}b.sameString=jt;function Vt(s){return s===dt.ZERO_ADDRESS}function Xt(s){return s===dt.SENTINEL_ADDRESS}function Ut(s){return Vt(s)||Xt(s)}b.isRestrictedAddress=Ut;function Ht(s){return(s==null?void 0:s.length)!==void 0}b.isMetaTransactionArray=Ht;var ze=y&&y.__classPrivateFieldSet||function(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t},q=y&&y.__classPrivateFieldGet||function(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)},de,U;Object.defineProperty(je,"__esModule",{value:!0});const Ne=b,kt=L;class Wt{constructor(e,t){de.set(this,void 0),U.set(this,void 0),ze(this,de,e,"f"),ze(this,U,t,"f")}validateModuleAddress(e){if(!q(this,de,"f").isAddress(e)||(0,Ne.isRestrictedAddress)(e))throw new Error("Invalid module address provided")}validateModuleIsNotEnabled(e,t){if(t.findIndex(a=>(0,Ne.sameString)(a,e))>=0)throw new Error("Module provided is already enabled")}validateModuleIsEnabled(e,t){const r=t.findIndex(a=>(0,Ne.sameString)(a,e));if(!(r>=0))throw new Error("Module provided is not enabled already");return r}async getModules(){return q(this,U,"f").getModules()}async isModuleEnabled(e){return q(this,U,"f").isModuleEnabled(e)}async encodeEnableModuleData(e){this.validateModuleAddress(e);const t=await this.getModules();return this.validateModuleIsNotEnabled(e,t),q(this,U,"f").encode("enableModule",[e])}async encodeDisableModuleData(e){this.validateModuleAddress(e);const t=await this.getModules(),r=this.validateModuleIsEnabled(e,t),n=r===0?kt.SENTINEL_ADDRESS:t[r-1];return q(this,U,"f").encode("disableModule",[n,e])}}de=new WeakMap,U=new WeakMap;je.default=Wt;var Ve={},Be=y&&y.__classPrivateFieldSet||function(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t},X=y&&y.__classPrivateFieldGet||function(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)},ue,F;Object.defineProperty(Ve,"__esModule",{value:!0});const De=b,qe=L;class zt{constructor(e,t){ue.set(this,void 0),F.set(this,void 0),Be(this,ue,e,"f"),Be(this,F,t,"f")}validateOwnerAddress(e,t){if(!X(this,ue,"f").isAddress(e)||(0,De.isRestrictedAddress)(e))throw new Error(t||"Invalid owner address provided")}validateThreshold(e,t){if(e<=0)throw new Error("Threshold needs to be greater than 0");if(e>t)throw new Error("Threshold cannot exceed owner count")}validateAddressIsNotOwner(e,t,r){if(t.findIndex(i=>(0,De.sameString)(i,e))>=0)throw new Error(r||"Address provided is already an owner")}validateAddressIsOwner(e,t,r){const n=t.findIndex(i=>(0,De.sameString)(i,e));if(!(n>=0))throw new Error(r||"Address provided is not an owner");return n}async getOwners(){return[...await X(this,F,"f").getOwners()]}async getThreshold(){return X(this,F,"f").getThreshold()}async isOwner(e){return X(this,F,"f").isOwner(e)}async encodeAddOwnerWithThresholdData(e,t){this.validateOwnerAddress(e);const r=await this.getOwners();this.validateAddressIsNotOwner(e,r);const n=t!=null?t:await this.getThreshold();return this.validateThreshold(n,r.length+1),X(this,F,"f").encode("addOwnerWithThreshold",[e,n])}async encodeRemoveOwnerData(e,t){this.validateOwnerAddress(e);const r=await this.getOwners(),n=this.validateAddressIsOwner(e,r),a=t!=null?t:await this.getThreshold()-1;this.validateThreshold(a,r.length-1);const i=n===0?qe.SENTINEL_ADDRESS:r[n-1];return X(this,F,"f").encode("removeOwner",[i,e,a])}async encodeSwapOwnerData(e,t){this.validateOwnerAddress(t,"Invalid new owner address provided"),this.validateOwnerAddress(e,"Invalid old owner address provided");const r=await this.getOwners();this.validateAddressIsNotOwner(t,r,"New address provided is already an owner");const n=this.validateAddressIsOwner(e,r,"Old address provided is not an owner"),a=n===0?qe.SENTINEL_ADDRESS:r[n-1];return X(this,F,"f").encode("swapOwner",[a,e,t])}async encodeChangeThresholdData(e){const t=await this.getOwners();return this.validateThreshold(e,t.length),X(this,F,"f").encode("changeThreshold",[e])}}ue=new WeakMap,F=new WeakMap;Ve.default=zt;var x={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});class Bt{constructor(e,t){this.signer=e,this.data=t}staticPart(){return this.data}dynamicPart(){return""}}ve.default=Bt;var qt=y&&y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(x,"__esModule",{value:!0});x.generateSignature=x.adjustVInSignature=x.isTxHashSignedWithPrefix=x.generatePreValidatedSignature=void 0;const Pe=Lt,Zt=b,ut=qt(ve);function Yt(s){const e="0x000000000000000000000000"+s.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new ut.default(s,e)}x.generatePreValidatedSignature=Yt;function ht(s,e,t){let r;try{const n={r:Buffer.from(e.slice(2,66),"hex"),s:Buffer.from(e.slice(66,130),"hex"),v:parseInt(e.slice(130,132),16)},a=(0,Pe.ecrecover)(Buffer.from(s.slice(2),"hex"),n.v,n.r,n.s),i=(0,Pe.bufferToHex)((0,Pe.pubToAddress)(a));r=!(0,Zt.sameString)(i,t)}catch{r=!0}return r}x.isTxHashSignedWithPrefix=ht;function ft(s,e){const t=[0,1,27,28],r=27;let n=parseInt(s.slice(-2),16);if(!t.includes(n))throw new Error("Invalid signature");return n<r&&(n+=r),e&&(n+=4),s=s.slice(0,-2)+n.toString(16),s}x.adjustVInSignature=ft;async function Kt(s,e){const t=await s.getSignerAddress();let r=await s.signMessage(e);const n=ht(e,r,t);return r=ft(r,n),new ut.default(t,r)}x.generateSignature=Kt;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});class Jt{constructor(e){this.signatures=new Map,this.data=e}addSignature(e){this.signatures.set(e.signer.toLowerCase(),e)}encodedSignatures(){const e=Array.from(this.signatures.keys()).sort();e.length*65;let t="",r="";return e.forEach(n=>{const a=this.signatures.get(n);t+=a==null?void 0:a.staticPart().slice(2),r+=a==null?void 0:a.dynamicPart()}),"0x"+t+r}}Xe.default=Jt;var V={},Et={};const Qt=["includePrerelease","loose","rtl"],er=s=>s?typeof s!="object"?{loose:!0}:Qt.filter(e=>s[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};var Ue=er,Q={exports:{}};const tr="2.0.0",rr=256,sr=Number.MAX_SAFE_INTEGER||9007199254740991,ar=16;var wt={SEMVER_SPEC_VERSION:tr,MAX_LENGTH:rr,MAX_SAFE_INTEGER:sr,MAX_SAFE_COMPONENT_LENGTH:ar};const nr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{};var Te=nr;(function(s,e){const{MAX_SAFE_COMPONENT_LENGTH:t}=wt,r=Te;e=s.exports={};const n=e.re=[],a=e.src=[],i=e.t={};let f=0;const o=(_,d,T)=>{const O=f++;r(_,O,d),i[_]=O,a[O]=d,n[O]=new RegExp(d,T?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION",`(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${a[i.NUMERICIDENTIFIER]}|${a[i.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${a[i.NUMERICIDENTIFIERLOOSE]}|${a[i.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${a[i.PRERELEASEIDENTIFIER]}(?:\\.${a[i.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${a[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[i.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD",`(?:\\+(${a[i.BUILDIDENTIFIER]}(?:\\.${a[i.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${a[i.MAINVERSION]}${a[i.PRERELEASE]}?${a[i.BUILD]}?`),o("FULL",`^${a[i.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${a[i.MAINVERSIONLOOSE]}${a[i.PRERELEASELOOSE]}?${a[i.BUILD]}?`),o("LOOSE",`^${a[i.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${a[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${a[i.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:${a[i.PRERELEASE]})?${a[i.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:${a[i.PRERELEASELOOSE]})?${a[i.BUILD]}?)?)?`),o("XRANGE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),o("COERCERTL",a[i.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${a[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",o("TILDE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${a[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",o("CARET",`^${a[i.LONECARET]}${a[i.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${a[i.LONECARET]}${a[i.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${a[i.GTLT]}\\s*(${a[i.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]}|${a[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${a[i.XRANGEPLAIN]})\\s+-\\s+(${a[i.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${a[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[i.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Q,Q.exports);const Ze=/^[0-9]+$/,pt=(s,e)=>{const t=Ze.test(s),r=Ze.test(e);return t&&r&&(s=+s,e=+e),s===e?0:t&&!r?-1:r&&!t?1:s<e?-1:1},ir=(s,e)=>pt(e,s);var or={compareIdentifiers:pt,rcompareIdentifiers:ir};const se=Te,{MAX_LENGTH:Ye,MAX_SAFE_INTEGER:ae}=wt,{re:Ke,t:Je}=Q.exports,cr=Ue,{compareIdentifiers:k}=or;class M{constructor(e,t){if(t=cr(t),e instanceof M){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Ye)throw new TypeError(`version is longer than ${Ye} characters`);se("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?Ke[Je.LOOSE]:Ke[Je.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ae||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ae||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ae||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){const a=+n;if(a>=0&&a<ae)return a}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(se("SemVer.compare",this.version,this.options,e),!(e instanceof M)){if(typeof e=="string"&&e===this.version)return 0;e=new M(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof M||(e=new M(e,this.options)),k(this.major,e.major)||k(this.minor,e.minor)||k(this.patch,e.patch)}comparePre(e){if(e instanceof M||(e=new M(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(se("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return k(r,n)}while(++t)}compareBuild(e){e instanceof M||(e=new M(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(se("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return k(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(k(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var He=M;const Qe=He,lr=(s,e,t)=>new Qe(s,t).compare(new Qe(e,t));var z=lr;const dr=z,ur=(s,e,t)=>dr(s,e,t)===0;var hr=ur;const fr=z,Er=(s,e,t)=>fr(s,e,t)!==0;var wr=Er;const pr=z,gr=(s,e,t)=>pr(s,e,t)>0;var Sr=gr;const yr=z,vr=(s,e,t)=>yr(s,e,t)>=0;var Tr=vr;const _r=z,$r=(s,e,t)=>_r(s,e,t)<0;var Ar=$r;const Ir=z,Or=(s,e,t)=>Ir(s,e,t)<=0;var Rr=Or;const mr=hr,Nr=wr,Dr=Sr,Pr=Tr,Cr=Ar,Lr=Rr,Mr=(s,e,t,r)=>{switch(e){case"===":return typeof s=="object"&&(s=s.version),typeof t=="object"&&(t=t.version),s===t;case"!==":return typeof s=="object"&&(s=s.version),typeof t=="object"&&(t=t.version),s!==t;case"":case"=":case"==":return mr(s,t,r);case"!=":return Nr(s,t,r);case">":return Dr(s,t,r);case">=":return Pr(s,t,r);case"<":return Cr(s,t,r);case"<=":return Lr(s,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var br=Mr,Ce,et;function Fr(){if(et)return Ce;et=1;const s=Symbol("SemVer ANY");class e{static get ANY(){return s}constructor(d,T){if(T=t(T),d instanceof e){if(d.loose===!!T.loose)return d;d=d.value}i("comparator",d,T),this.options=T,this.loose=!!T.loose,this.parse(d),this.semver===s?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(d){const T=this.options.loose?r[n.COMPARATORLOOSE]:r[n.COMPARATOR],O=d.match(T);if(!O)throw new TypeError(`Invalid comparator: ${d}`);this.operator=O[1]!==void 0?O[1]:"",this.operator==="="&&(this.operator=""),O[2]?this.semver=new f(O[2],this.options.loose):this.semver=s}toString(){return this.value}test(d){if(i("Comparator.test",d,this.options.loose),this.semver===s||d===s)return!0;if(typeof d=="string")try{d=new f(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,T){if(!(d instanceof e))throw new TypeError("a Comparator is required");if((!T||typeof T!="object")&&(T={loose:!!T,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new o(d.value,T).test(this.value);if(d.operator==="")return d.value===""?!0:new o(this.value,T).test(d.semver);const O=(this.operator===">="||this.operator===">")&&(d.operator===">="||d.operator===">"),Ie=(this.operator==="<="||this.operator==="<")&&(d.operator==="<="||d.operator==="<"),ee=this.semver.version===d.semver.version,Oe=(this.operator===">="||this.operator==="<=")&&(d.operator===">="||d.operator==="<="),R=a(this.semver,"<",d.semver,T)&&(this.operator===">="||this.operator===">")&&(d.operator==="<="||d.operator==="<"),Re=a(this.semver,">",d.semver,T)&&(this.operator==="<="||this.operator==="<")&&(d.operator===">="||d.operator===">");return O||Ie||ee&&Oe||R||Re}}Ce=e;const t=Ue,{re:r,t:n}=Q.exports,a=br,i=Te,f=He,o=gt();return Ce}var Le,tt;function gt(){if(tt)return Le;tt=1;class s{constructor(c,w){if(w=r(w),c instanceof s)return c.loose===!!w.loose&&c.includePrerelease===!!w.includePrerelease?c:new s(c.raw,w);if(c instanceof n)return this.raw=c.value,this.set=[[c]],this.format(),this;if(this.options=w,this.loose=!!w.loose,this.includePrerelease=!!w.includePrerelease,this.raw=c,this.set=c.split("||").map(h=>this.parseRange(h.trim())).filter(h=>h.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${c}`);if(this.set.length>1){const h=this.set[0];if(this.set=this.set.filter(E=>!O(E[0])),this.set.length===0)this.set=[h];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&Ie(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(c=>c.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(c){c=c.trim();const h=`parseRange:${Object.keys(this.options).join(",")}:${c}`,E=t.get(h);if(E)return E;const u=this.options.loose,p=u?f[o.HYPHENRANGELOOSE]:f[o.HYPHENRANGE];c=c.replace(p,Ot(this.options.includePrerelease)),a("hyphen replace",c),c=c.replace(f[o.COMPARATORTRIM],_),a("comparator trim",c),c=c.replace(f[o.TILDETRIM],d),c=c.replace(f[o.CARETTRIM],T),c=c.split(/\s+/).join(" ");let v=c.split(" ").map(A=>Oe(A,this.options)).join(" ").split(/\s+/).map(A=>It(A,this.options));u&&(v=v.filter(A=>(a("loose invalid filter",A,this.options),!!A.match(f[o.COMPARATORLOOSE])))),a("range list",v);const S=new Map,$=v.map(A=>new n(A,this.options));for(const A of $){if(O(A))return[A];S.set(A.value,A)}S.size>1&&S.has("")&&S.delete("");const D=[...S.values()];return t.set(h,D),D}intersects(c,w){if(!(c instanceof s))throw new TypeError("a Range is required");return this.set.some(h=>ee(h,w)&&c.set.some(E=>ee(E,w)&&h.every(u=>E.every(p=>u.intersects(p,w)))))}test(c){if(!c)return!1;if(typeof c=="string")try{c=new i(c,this.options)}catch{return!1}for(let w=0;w<this.set.length;w++)if(Rt(this.set[w],c,this.options))return!0;return!1}}Le=s;const e=Ct,t=new e({max:1e3}),r=Ue,n=Fr(),a=Te,i=He,{re:f,t:o,comparatorTrimReplace:_,tildeTrimReplace:d,caretTrimReplace:T}=Q.exports,O=l=>l.value==="<0.0.0-0",Ie=l=>l.value==="",ee=(l,c)=>{let w=!0;const h=l.slice();let E=h.pop();for(;w&&h.length;)w=h.every(u=>E.intersects(u,c)),E=h.pop();return w},Oe=(l,c)=>(a("comp",l,c),l=vt(l,c),a("caret",l),l=Re(l,c),a("tildes",l),l=_t(l,c),a("xrange",l),l=At(l,c),a("stars",l),l),R=l=>!l||l.toLowerCase()==="x"||l==="*",Re=(l,c)=>l.trim().split(/\s+/).map(w=>yt(w,c)).join(" "),yt=(l,c)=>{const w=c.loose?f[o.TILDELOOSE]:f[o.TILDE];return l.replace(w,(h,E,u,p,v)=>{a("tilde",l,h,E,u,p,v);let S;return R(E)?S="":R(u)?S=`>=${E}.0.0 <${+E+1}.0.0-0`:R(p)?S=`>=${E}.${u}.0 <${E}.${+u+1}.0-0`:v?(a("replaceTilde pr",v),S=`>=${E}.${u}.${p}-${v} <${E}.${+u+1}.0-0`):S=`>=${E}.${u}.${p} <${E}.${+u+1}.0-0`,a("tilde return",S),S})},vt=(l,c)=>l.trim().split(/\s+/).map(w=>Tt(w,c)).join(" "),Tt=(l,c)=>{a("caret",l,c);const w=c.loose?f[o.CARETLOOSE]:f[o.CARET],h=c.includePrerelease?"-0":"";return l.replace(w,(E,u,p,v,S)=>{a("caret",l,E,u,p,v,S);let $;return R(u)?$="":R(p)?$=`>=${u}.0.0${h} <${+u+1}.0.0-0`:R(v)?u==="0"?$=`>=${u}.${p}.0${h} <${u}.${+p+1}.0-0`:$=`>=${u}.${p}.0${h} <${+u+1}.0.0-0`:S?(a("replaceCaret pr",S),u==="0"?p==="0"?$=`>=${u}.${p}.${v}-${S} <${u}.${p}.${+v+1}-0`:$=`>=${u}.${p}.${v}-${S} <${u}.${+p+1}.0-0`:$=`>=${u}.${p}.${v}-${S} <${+u+1}.0.0-0`):(a("no pr"),u==="0"?p==="0"?$=`>=${u}.${p}.${v}${h} <${u}.${p}.${+v+1}-0`:$=`>=${u}.${p}.${v}${h} <${u}.${+p+1}.0-0`:$=`>=${u}.${p}.${v} <${+u+1}.0.0-0`),a("caret return",$),$})},_t=(l,c)=>(a("replaceXRanges",l,c),l.split(/\s+/).map(w=>$t(w,c)).join(" ")),$t=(l,c)=>{l=l.trim();const w=c.loose?f[o.XRANGELOOSE]:f[o.XRANGE];return l.replace(w,(h,E,u,p,v,S)=>{a("xRange",l,h,E,u,p,v,S);const $=R(u),D=$||R(p),A=D||R(v),B=A;return E==="="&&B&&(E=""),S=c.includePrerelease?"-0":"",$?E===">"||E==="<"?h="<0.0.0-0":h="*":E&&B?(D&&(p=0),v=0,E===">"?(E=">=",D?(u=+u+1,p=0,v=0):(p=+p+1,v=0)):E==="<="&&(E="<",D?u=+u+1:p=+p+1),E==="<"&&(S="-0"),h=`${E+u}.${p}.${v}${S}`):D?h=`>=${u}.0.0${S} <${+u+1}.0.0-0`:A&&(h=`>=${u}.${p}.0${S} <${u}.${+p+1}.0-0`),a("xRange return",h),h})},At=(l,c)=>(a("replaceStars",l,c),l.trim().replace(f[o.STAR],"")),It=(l,c)=>(a("replaceGTE0",l,c),l.trim().replace(f[c.includePrerelease?o.GTE0PRE:o.GTE0],"")),Ot=l=>(c,w,h,E,u,p,v,S,$,D,A,B,cs)=>(R(h)?w="":R(E)?w=`>=${h}.0.0${l?"-0":""}`:R(u)?w=`>=${h}.${E}.0${l?"-0":""}`:p?w=`>=${w}`:w=`>=${w}${l?"-0":""}`,R($)?S="":R(D)?S=`<${+$+1}.0.0-0`:R(A)?S=`<${$}.${+D+1}.0-0`:B?S=`<=${$}.${D}.${A}-${B}`:l?S=`<${$}.${D}.${+A+1}-0`:S=`<=${S}`,`${w} ${S}`.trim()),Rt=(l,c,w)=>{for(let h=0;h<l.length;h++)if(!l[h].test(c))return!1;if(c.prerelease.length&&!w.includePrerelease){for(let h=0;h<l.length;h++)if(a(l[h].semver),l[h].semver!==n.ANY&&l[h].semver.prerelease.length>0){const E=l[h].semver;if(E.major===c.major&&E.minor===c.minor&&E.patch===c.patch)return!0}return!1}return!0};return Le}const Gr=gt(),xr=(s,e,t)=>{try{e=new Gr(e,t)}catch{return!1}return e.test(s)};var jr=xr;(function(s){var e=y&&y.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.hasFeature=s.enabledFeatures=s.FEATURES=void 0;const t=e(jr);var r;(function(o){o[o.SAFE_TX_GAS_OPTIONAL=0]="SAFE_TX_GAS_OPTIONAL"})(r=s.FEATURES||(s.FEATURES={}));const n={[r.SAFE_TX_GAS_OPTIONAL]:">=1.3.0"},a=(o,_)=>o in n?(0,t.default)(_,n[o]):!0,i=o=>Object.values(r).filter(d=>a(d,o));s.enabledFeatures=i;const f=(o,_)=>(0,s.enabledFeatures)(_).includes(o);s.hasFeature=f})(Et);var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.estimateTxGas=void 0;const Vr=it,Xr=Fe;function Ur(s){const e=(t,r)=>r==="0x"?t+0:r==="00"?t+4:t+16;return s.match(/.{2}/g).reduce(e,0)}async function Hr(s,e,t,r,n,a){let i=0;const f=s.getAddress(),o=s.encode("requiredTxGas",[t,r,n,a]);try{const _=(await e.estimateGas({to:f,from:f,data:o})).toString();i=Vr.BigNumber.from("0x"+_.substring(138)).toNumber()+1e4}catch{}if(i>0){const _=Ur(o);let d=1e4;for(let T=0;T<10;T++){try{if(await e.call({to:f,from:f,data:o,gasPrice:0,gasLimit:i+_+d})!=="0x")break}catch{}i+=d,d*=2}return i+d}try{return await e.estimateGas({to:t,from:f,value:r,data:n})}catch(_){return a===Xr.OperationType.DelegateCall?0:Promise.reject(_)}}_e.estimateTxGas=Hr;Object.defineProperty(V,"__esModule",{value:!0});V.encodeMultiSendData=V.standardizeSafeTransactionData=V.standardizeMetaTransactionData=void 0;const kr=mt,Wr=Nt,St=Fe,rt=L,st=Et,zr=_e;function Br(s){var e;return{...s,operation:(e=s.operation)!==null&&e!==void 0?e:St.OperationType.Call}}V.standardizeMetaTransactionData=Br;async function qr(s,e,t){var r,n,a,i,f;const o={to:t.to,value:t.value,data:t.data,operation:(r=t.operation)!==null&&r!==void 0?r:St.OperationType.Call,baseGas:(n=t.baseGas)!==null&&n!==void 0?n:0,gasPrice:(a=t.gasPrice)!==null&&a!==void 0?a:0,gasToken:t.gasToken||rt.ZERO_ADDRESS,refundReceiver:t.refundReceiver||rt.ZERO_ADDRESS,nonce:(i=t.nonce)!==null&&i!==void 0?i:await s.getNonce()};let _;const d=await s.getVersion();return(0,st.hasFeature)(st.FEATURES.SAFE_TX_GAS_OPTIONAL,d)&&o.gasPrice===0?_=0:_=(f=t.safeTxGas)!==null&&f!==void 0?f:await(0,zr.estimateTxGas)(s,e,o.to,o.value,o.data,o.operation),{...o,safeTxGas:_}}V.standardizeSafeTransactionData=qr;function Zr(s){const e=(0,kr.arrayify)(s.data);return(0,Wr.pack)(["uint8","address","uint256","uint256","bytes"],[s.operation,s.to,s.value,e.length,e]).slice(2)}function Yr(s){return"0x"+s.map(e=>Zr(e)).join("")}V.encodeMultiSendData=Yr;var ne=y&&y.__classPrivateFieldSet||function(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t},g=y&&y.__classPrivateFieldGet||function(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)},$e=y&&y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},m,I,G,H;Object.defineProperty(ye,"__esModule",{value:!0});const at=it,Kr=Fe,Jr=$e(Se),Qr=$e(je),es=$e(Ve),Z=b,Me=x,ts=$e(Xe),be=V;class ge{constructor(){m.set(this,void 0),I.set(this,void 0),G.set(this,void 0),H.set(this,void 0)}static async create({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}){const a=new ge;return await a.init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}),a}async init({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}){ne(this,m,e,"f"),ne(this,I,await Jr.default.create({ethAdapter:g(this,m,"f"),safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}),"f"),ne(this,G,new es.default(g(this,m,"f"),g(this,I,"f").safeContract),"f"),ne(this,H,new Qr.default(g(this,m,"f"),g(this,I,"f").safeContract),"f")}async connect({ethAdapter:e,safeAddress:t,isL1SafeMasterCopy:r,contractNetworks:n}){return await ge.create({ethAdapter:e||g(this,m,"f"),safeAddress:t||this.getAddress(),isL1SafeMasterCopy:r||g(this,I,"f").isL1SafeMasterCopy,contractNetworks:n||g(this,I,"f").contractNetworks})}getAddress(){return g(this,I,"f").safeContract.getAddress()}getContractManager(){return g(this,I,"f")}getEthAdapter(){return g(this,m,"f")}getMultiSendAddress(){return g(this,I,"f").multiSendContract.getAddress()}async getContractVersion(){return g(this,I,"f").safeContract.getVersion()}async getOwners(){return g(this,G,"f").getOwners()}async getNonce(){return g(this,I,"f").safeContract.getNonce()}async getThreshold(){return g(this,G,"f").getThreshold()}async getChainId(){return g(this,m,"f").getChainId()}async getBalance(){return g(this,m,"f").getBalance(this.getAddress())}async getModules(){return g(this,H,"f").getModules()}async isModuleEnabled(e){return g(this,H,"f").isModuleEnabled(e)}async isOwner(e){return g(this,G,"f").isOwner(e)}async createTransaction(e,t){if((0,Z.isMetaTransactionArray)(e)&&e.length===0)throw new Error("Invalid empty array of transactions");let r;if((0,Z.isMetaTransactionArray)(e)&&e.length>1){const a=(0,be.encodeMultiSendData)(e.map(be.standardizeMetaTransactionData));r={...t,to:g(this,I,"f").multiSendContract.getAddress(),value:"0",data:g(this,I,"f").multiSendContract.encode("multiSend",[a]),operation:Kr.OperationType.DelegateCall}}else r=(0,Z.isMetaTransactionArray)(e)?{...t,...e[0]}:e;const n=await(0,be.standardizeSafeTransactionData)(g(this,I,"f").safeContract,g(this,m,"f"),r);return new ts.default(n)}async createRejectionTransaction(e){return this.createTransaction({to:this.getAddress(),nonce:e,value:"0",data:"0x",safeTxGas:0})}async getTransactionHash(e){const t=e.data;return await g(this,I,"f").safeContract.getTransactionHash(t)}async signTransactionHash(e){const t=await this.getOwners(),r=await g(this,m,"f").getSignerAddress();if(!t.find(a=>r&&(0,Z.sameString)(a,r)))throw new Error("Transactions can only be signed by Safe owners");return(0,Me.generateSignature)(g(this,m,"f"),e)}async signTransaction(e){const t=await this.getTransactionHash(e),r=await this.signTransactionHash(t);e.addSignature(r)}async approveTransactionHash(e,t){const r=await this.getOwners(),n=await g(this,m,"f").getSignerAddress();if(!r.find(i=>n&&(0,Z.sameString)(i,n)))throw new Error("Transaction hashes can only be approved by Safe owners");if((t==null?void 0:t.gas)&&(t==null?void 0:t.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return g(this,I,"f").safeContract.approveHash(e,{from:n,...t})}async getOwnersWhoApprovedTx(e){const t=await this.getOwners();let r=[];for(const n of t)(await g(this,I,"f").safeContract.approvedHashes(n,e)).gt(0)&&r.push(n);return r}async getEnableModuleTx(e,t){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,H,"f").encodeEnableModuleData(e),...t})}async getDisableModuleTx(e,t){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,H,"f").encodeDisableModuleData(e),...t})}async getAddOwnerTx({ownerAddress:e,threshold:t},r){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,G,"f").encodeAddOwnerWithThresholdData(e,t),...r})}async getRemoveOwnerTx({ownerAddress:e,threshold:t},r){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,G,"f").encodeRemoveOwnerData(e,t),...r})}async getSwapOwnerTx({oldOwnerAddress:e,newOwnerAddress:t},r){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,G,"f").encodeSwapOwnerData(e,t),...r})}async getChangeThresholdTx(e,t){return await this.createTransaction({to:this.getAddress(),value:"0",data:await g(this,G,"f").encodeChangeThresholdData(e),...t})}async executeTransaction(e,t){const r=await this.getTransactionHash(e),n=await this.getOwnersWhoApprovedTx(r);for(const d of n)e.addSignature((0,Me.generatePreValidatedSignature)(d));const a=await this.getOwners(),i=await g(this,m,"f").getSignerAddress();a.includes(i)&&e.addSignature((0,Me.generatePreValidatedSignature)(i));const f=await this.getThreshold();if(f>e.signatures.size){const d=f-e.signatures.size;throw new Error(`There ${d>1?"are":"is"} ${d} signature${d>1?"s":""} missing`)}const o=at.BigNumber.from(e.data.value);if(!o.isZero()){const d=await this.getBalance();if(o.gt(at.BigNumber.from(d)))throw new Error("Not enough Ether funds")}if((t==null?void 0:t.gas)&&(t==null?void 0:t.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return await g(this,I,"f").safeContract.execTransaction(e,{from:i,...t})}}m=new WeakMap,I=new WeakMap,G=new WeakMap,H=new WeakMap;ye.default=ge;var ke={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.validateSafeAccountConfig=void 0;const rs=({owners:s,threshold:e})=>{if(s.length<=0)throw new Error("Owner list must have at least one owner");if(e<=0)throw new Error("Threshold must be greater than or equal to 1");if(e>s.length)throw new Error("Threshold must be lower than or equal to owners length")};Ae.validateSafeAccountConfig=rs;var W=y&&y.__classPrivateFieldSet||function(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t},P=y&&y.__classPrivateFieldGet||function(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)},ss=y&&y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},he,fe,Ee,j,K,J;Object.defineProperty(ke,"__esModule",{value:!0});const as=C,nt=N,ns=ss(ye),Y=L,is=Ae;class We{constructor(){he.set(this,void 0),fe.set(this,void 0),Ee.set(this,void 0),j.set(this,void 0),K.set(this,void 0),J.set(this,void 0)}static async create({ethAdapter:e,safeVersion:t=as.SAFE_LAST_VERSION,isL1SafeMasterCopy:r=!1,contractNetworks:n}){const a=new We;return await a.init({ethAdapter:e,safeVersion:t,isL1SafeMasterCopy:r,contractNetworks:n}),a}async init({ethAdapter:e,safeVersion:t,isL1SafeMasterCopy:r,contractNetworks:n}){W(this,j,e,"f"),W(this,Ee,t,"f"),W(this,fe,r,"f"),W(this,he,n,"f");const a=await P(this,j,"f").getChainId(),i=n==null?void 0:n[a];W(this,K,await(0,nt.getProxyFactoryContract)({ethAdapter:e,safeVersion:t,chainId:a,customContracts:i}),"f"),W(this,J,await(0,nt.getSafeContract)({ethAdapter:e,safeVersion:t,chainId:a,isL1SafeMasterCopy:r,customContracts:i}),"f")}getEthAdapter(){return P(this,j,"f")}getSafeVersion(){return P(this,Ee,"f")}getAddress(){return P(this,K,"f").getAddress()}async getChainId(){return P(this,j,"f").getChainId()}async encodeSetupCallData({owners:e,threshold:t,to:r=Y.ZERO_ADDRESS,data:n=Y.EMPTY_DATA,fallbackHandler:a=Y.ZERO_ADDRESS,paymentToken:i=Y.ZERO_ADDRESS,payment:f=0,paymentReceiver:o=Y.ZERO_ADDRESS}){return P(this,J,"f").encode("setup",[e,t,r,n,a,i,f,o])}async deploySafe({safeAccountConfig:e,safeDeploymentConfig:t,options:r,callback:n}){var a;(0,is.validateSafeAccountConfig)(e);const i=await P(this,j,"f").getSignerAddress(),f=await this.encodeSetupCallData(e),o=(a=t==null?void 0:t.saltNonce)!==null&&a!==void 0?a:Date.now()*1e3+Math.floor(Math.random()*1e3);if((r==null?void 0:r.gas)&&(r==null?void 0:r.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");const _=await P(this,K,"f").createProxy({safeMasterCopyAddress:P(this,J,"f").getAddress(),initializer:f,saltNonce:o,options:{from:i,...r},callback:n});if(!await P(this,j,"f").isContractDeployed(_))throw new Error("Safe Proxy contract is not deployed on the current network");return await ns.default.create({ethAdapter:P(this,j,"f"),safeAddress:_,isL1SafeMasterCopy:P(this,fe,"f"),contractNetworks:P(this,he,"f")})}}he=new WeakMap,fe=new WeakMap,Ee=new WeakMap,j=new WeakMap,K=new WeakMap,J=new WeakMap;ke.default=We;(function(s){var e=y&&y.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0}),s.standardizeSafeTransactionData=s.EthSignSignature=s.SafeFactory=s.ContractManager=void 0;const t=e(Se);s.ContractManager=t.default;const r=e(ye),n=e(ke);s.SafeFactory=n.default;const a=e(ve);s.EthSignSignature=a.default;const i=V;Object.defineProperty(s,"standardizeSafeTransactionData",{enumerable:!0,get:function(){return i.standardizeSafeTransactionData}}),s.default=r.default})(Ge);const os=Dt(Ge),fs=Mt({__proto__:null,default:os},[Ge]);export{fs as i};
